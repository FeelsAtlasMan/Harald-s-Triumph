fix the map (maybe event buggy,too)